{"version":3,"file":"amo.min.js","sources":["../node_modules/regux/dist/regux.js","../src/app.js","../node_modules/regux/logger.js","../src/index.js"],"sourcesContent":["(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.regux = factory());\n}(this, (function () { 'use strict';\n\nvar handleComputed = ( function () {\n\t// wrap the computed getter;\n\tfunction wrapGet( get ) {\n\t\treturn function ( context ) {\n\t\t\treturn get.call( context, context.data );\n\t\t};\n\t}\n\t// wrap the computed setter;\n\tfunction wrapSet( set ) {\n\t\treturn function ( context, value ) {\n\t\t\tset.call( context, value, context.data );\n\t\t\treturn value;\n\t\t};\n\t}\n\n\treturn function ( computed ) {\n\t\tif ( !computed ) {\n\t\t\treturn;\n\t\t}\n\t\tvar parsedComputed = {};\n\t\tvar handle, pair, type;\n\t\tfor ( var i in computed ) {\n\t\t\thandle = computed[ i ];\n\t\t\ttype = typeof handle;\n\n\t\t\tif ( handle.type === 'expression' ) {\n\t\t\t\tparsedComputed[ i ] = handle;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif ( type !== 'string' ) {\n\t\t\t\tpair = parsedComputed[ i ] = { type: 'expression' };\n\t\t\t\tif ( type === 'function' ) {\n\t\t\t\t\tpair.get = wrapGet( handle );\n\t\t\t\t} else {\n\t\t\t\t\tif ( handle.get ) {\n\t\t\t\t\t\tpair.get = wrapGet( handle.get );\n\t\t\t\t\t}\n\t\t\t\t\tif ( handle.set ) {\n\t\t\t\t\t\tpair.set = wrapSet( handle.set );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn parsedComputed;\n\t};\n} )();\n\n// generate computed properties from getters\nvar makeComputed = function ( target, getters ) {\n\tObject.assign( target.computed || {}, handleComputed( getters ) );\n};\n\nvar Scheduler = function Scheduler() {\n\tthis.t = null;\n\tthis.tasks = [];\n};\nScheduler.prototype.add = function add ( task ) {\n\tthis.tasks.push( task );\n};\nScheduler.prototype.run = function run ( main ) {\n\t\tvar this$1 = this;\n\n\tif ( this.t ) {\n\t\tclearTimeout( this.t );\n\t}\n\n\tthis.t = setTimeout( function () {\n\t\tmain();\n\n\t\tthis$1.tasks.forEach( function ( task, i ) {\n\t\t\tif ( typeof task === 'function' ) {\n\t\t\t\ttask();\n\t\t\t\tthis$1.tasks[ i ] = null;\n\t\t\t}\n\t\t} );\n\t\tthis$1.tasks.length = 0;\n\t}, 0 );\n};\n\n// Credits: vue/vuex\n\nvar devtoolsPlugin = function () { return function (store) {\n\tvar devtools = window && window.__REO_DEVTOOLS_HOOK__;\n\n\tif ( !devtools ) {\n\t\treturn;\n\t}\n\n\tstore._devtools = devtools;\n\n\tdevtools.emit( 'reo:init', store );\n\tdevtools.on( 'reo:travel-to-state', function (state) {\n\t\tstore.replaceState( state );\n\t} );\n\tdevtools.on( 'reo:silent-travel-to-state', function (state) {\n\t\tstore.replaceState( state, {\n\t\t\tsilent: true\n\t\t} );\n\t} );\n\n\tstore.subscribe( function ( action, state ) {\n\t\tdevtools.emit( 'reo:reducer', action, state );\n\t} );\n\n\tstore.subscribeViewUpdate( function () {\n\t\tdevtools.emit( 'reo:view-updated' );\n\t} );\n}; };\n\nvar Store = function Store( ref ) {\n\tvar this$1 = this;\n\tif ( ref === void 0 ) ref = {};\n\tvar modules = ref.modules; if ( modules === void 0 ) modules = {};\n\tvar actions = ref.actions; if ( actions === void 0 ) actions = {};\n\tvar plugins = ref.plugins; if ( plugins === void 0 ) plugins = [];\n\n\tObject.assign( this, {\n\t\t_state: {},\n\t\t_reducers: {},\n\t\t_modules: modules,\n\t\t_getters: {},\n\t\t_actions: actions,\n\t\t_plugins: plugins,\n\t\t_subscribers: [],\n\t\t_viewUpdateSubscribers: [],\n\t\tscheduler: new Scheduler(),\n\t} );\n\n\t// register modules\n\tObject.keys( modules )\n\t\t.forEach( function (name) { return this$1.registerModule( name, modules[ name ] ); } );\n\n\t// execute devtools manually\n\tdevtoolsPlugin()( this );\n\t// execute other plugins\n\tplugins.forEach( function (plugin) { return this$1.use( plugin ); } );\n};\nStore.prototype.use = function use ( plugin ) {\n\tplugin( this );\n};\nStore.prototype.replaceState = function replaceState ( newState, ref ) {\n\t\tif ( ref === void 0 ) ref = {};\n\t\tvar silent = ref.silent; if ( silent === void 0 ) silent = false;\n\n\tthis._state = newState;\n\n\tif ( !silent ) {\n\t\tthis.syncView();\n\t}\n};\nStore.prototype.getState = function getState () {\n\treturn this._state;\n};\nStore.prototype.getGetters = function getGetters () {\n\treturn this._getters;\n};\nStore.prototype.nextTick = function nextTick ( fn ) {\n\tthis.scheduler.add( fn );\n};\nStore.prototype.dispatch = function dispatch ( type, payload ) {\n\t\tvar this$1 = this;\n\n\tvar action;\n\n\tif ( typeof type === 'string' ) {\n\t\taction = { type: type, payload: payload };\n\t} else if ( isValidMutation( type ) ) {\n\t\taction = type;\n\t} else {\n\t\treturn console.error( 'invalid dispatch params', arguments );\n\t}\n\n\tvar act = this._actions[ action.type ];\n\n\tif ( typeof act !== 'function' ) {\n\t\treturn console.error( 'action', action.type, 'not found' );\n\t}\n\n\treturn act( {\n\t\tgetState: this.getState.bind( this ),\n\t\tstate: this.getState(),\n\t\tget: function (key) {\n\t\t\tvar getters = this$1.getGetters();\n\t\t\tvar getterFn = getters[ key ];\n\t\t\tif ( typeof getterFn !== 'function' ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\treturn getterFn( this$1.getState() );\n\t\t},\n\t\tcommit: this.commit.bind( this ),\n\t\tdispatch: this.dispatch.bind( this ),\n\t\tnextTick: this.nextTick.bind( this ),\n\t}, action.payload );\n};\nStore.prototype.commit = function commit ( type, payload ) {\n\t\tvar this$1 = this;\n\n\tvar mutation;\n\n\t// e.g. mutation -> { type: 'foo', payload: 'bar' }\n\tif ( typeof type === 'string' ) {\n\t\tmutation = { type: type, payload: payload };\n\t} else if ( isValidMutation( type ) ) {\n\t\tmutation = type;\n\t} else {\n\t\treturn console.error( 'invalid commit params', arguments );\n\t}\n\n\tvar reducer = this._reducers[ mutation.type ];\n\tif ( typeof reducer === 'function' ) {\n\t\tvar state = this.getState();\n\t\tvar moduleState = typeof reducer.key === 'undefined' ? state : state[ reducer.key ];\n\n\t\treducer( moduleState, mutation.payload );\n\n\t\t// notify subscribers state has been changed\n\t\tthis._applySubscribers( mutation, state );\n\n\t\tthis.scheduler.run( function () { return this$1.syncView(); } );\n\t} else {\n\t\tconsole.error( 'reducer', mutation.type, 'not found' );\n\t}\n};\nStore.prototype.syncView = function syncView () {\n\tthis._host.forEach( function (h) { return h.$update(); } );\n\tthis._viewUpdateSubscribers.forEach( function (fn) { return fn(); } );\n};\nStore.prototype.host = function host ( target ) {\n\tif ( !this._host ) {\n\t\tthis._host = [];\n\t}\n\tthis._host.push( target );\n};\nStore.prototype.subscribe = function subscribe ( fn ) {\n\tif ( typeof fn !== 'function' ) {\n\t\treturn;\n\t}\n\n\tthis._subscribers.push( fn );\n};\nStore.prototype.subscribeViewUpdate = function subscribeViewUpdate ( fn ) {\n\tif ( typeof fn !== 'function' ) {\n\t\treturn;\n\t}\n\n\tthis._viewUpdateSubscribers.push( fn );\n};\nStore.prototype.registerModule = function registerModule ( name, module ) {\n\t\tif ( name === void 0 ) name = '';\n\t\tif ( module === void 0 ) module = {};\n\n\tif ( !name ) {\n\t\treturn console.error( 'Please provide a name when register module' );\n\t}\n\n\t// attach module state to root state\n\tthis._state[ name ] = module.state || {};\n\n\tvar reducers = module.reducers || {};\n\tfor ( var j in reducers ) {\n\t\treducers[ j ].key = name;\n\t}\n\n\treducers = addNSForReducers( reducers, name );\n\n\t// attach module reducers to root reducers\n\tObject.assign( this._reducers, reducers );\n};\nStore.prototype.registerActions = function registerActions ( actions ) {\n\t\tif ( actions === void 0 ) actions = {};\n\n\tObject.assign( this._actions, actions );\n};\nStore.prototype.registerGetters = function registerGetters ( getters ) {\n\t\tif ( getters === void 0 ) getters = {};\n\n\tObject.assign( this._getters, getters );\n};\nStore.prototype._applySubscribers = function _applySubscribers ( mutation, state ) {\n\tvar subscribers = this._subscribers;\n\n\tfor ( var i = 0, len = subscribers.length; i < len; i++ ) {\n\t\tvar subscriber = subscribers[ i ];\n\t\tsubscriber( mutation, state );\n\t}\n};\n\nfunction addNSForReducers( reducers, ns ) {\n\tvar tmp = {};\n\tObject.keys( reducers ).forEach( function (key) {\n\t\ttmp[ (ns + \"/\" + key) ] = reducers[ key ];\n\t} );\n\treturn tmp;\n}\n\nfunction isValidMutation( mutation ) {\n\treturn typeof mutation.type !== 'undefined';\n}\n\nfunction isStore( ins ) {\n\treturn ins && ins instanceof Store;\n}\n\n/* eslint-disable no-loop-func */\n\nvar regux = function (Component) {\n\t// one store in Component scope\n\tvar store;\n\tComponent.implement( {\n\t\tevents: {\n\t\t\t$config: function $config() {\n\t\t\t\tif ( isStore( this.store ) ) {\n\t\t\t\t\tif ( store ) {\n\t\t\t\t\t\t// store already exists\n\t\t\t\t\t\tconsole.warn( 'store already exists' );\n\t\t\t\t\t\tconsole.warn( 'old store:', store );\n\t\t\t\t\t\tconsole.warn( 'new store:', this.store );\n\t\t\t\t\t\tconsole.warn( 'new store will be used' );\n\t\t\t\t\t}\n\n\t\t\t\t\t// save store\n\t\t\t\t\tstore = this.store;\n\t\t\t\t\tstore.host( this );\n\t\t\t\t\tdelete this.store;\n\t\t\t\t}\n\n\t\t\t\tif ( !store ) {\n\t\t\t\t\treturn console.warn( 'store not found' );\n\t\t\t\t}\n\n\t\t\t\tthis.$store = store;\n\t\t\t\tthis.commit = store.commit.bind( store );\n\t\t\t\tthis.dispatch = store.dispatch.bind( store );\n\t\t\t\tthis.nextTick = store.nextTick.bind( store );\n\n\t\t\t\tvar commonGetters = store.getGetters();\n\n\t\t\t\tvar ref = this;\n\t\t\t\tvar getters = ref.getters; if ( getters === void 0 ) getters = {};\n\t\t\t\tObject.keys( getters ).forEach( function (key) {\n\t\t\t\t\tvar getter = getters[ key ];\n\n\t\t\t\t\t// if getter is string, try getting it from commonGetters\n\t\t\t\t\tif ( typeof getter === 'string' ) {\n\t\t\t\t\t\tgetter = commonGetters[ getter ];\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( typeof getter === 'function' ) {\n\t\t\t\t\t\tgetters[ key ] = function () {\n\t\t\t\t\t\t\treturn getter( store.getState() );\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\tmakeComputed( this, getters );\n\t\t\t}\n\t\t}\n\t} );\n};\n\nregux.Store = Store;\n\nreturn regux;\n\n})));\n","import regux from 'regux';\nimport logger from 'regux/logger';\n\nexport default class App {\n\tconstructor() {\n\t\tconst store = new regux.Store();\n\t\tif ( process.env.NODE_ENV === 'development' ) {\n\t\t\tstore.use( logger() );\n\t\t}\n\t\tthis._store = store;\n\t}\n\tgetStore() {\n\t\treturn this._store;\n\t}\n\tuse( Component ) {\n\t\tComponent.use( regux );\n\t}\n\tmodel( m = {} ) {\n\t\tconst { name } = m;\n\n\t\tif ( !name ) {\n\t\t\treturn console.error( 'Please provide name for model', m );\n\t\t}\n\n\t\tconst store = this.getStore();\n\t\tstore.registerModule( name, m );\n\t}\n\tgetters( getters ) {\n\t\tconst store = this.getStore();\n\t\tstore.registerGetters( getters );\n\t}\n\tactions( actions = {} ) {\n\t\tconst store = this.getStore();\n\t\tstore.registerActions( actions );\n\t}\n\tstart( App, selector ) {\n\t\treturn new App( {\n\t\t\tstore: this.getStore(),\n\t\t} ).$inject( document.querySelector( selector ) );\n\t}\n};\n","(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.logger = factory());\n}(this, (function () { 'use strict';\n\n// Credits: fcomb/redux-logger\n\nfunction createLogger( ref ) {\n\tif ( ref === void 0 ) ref = {};\n\tvar collapsed = ref.collapsed; if ( collapsed === void 0 ) collapsed = true;\n\tvar transformer = ref.transformer; if ( transformer === void 0 ) transformer = function (state) { return state; };\n\tvar mutationTransformer = ref.mutationTransformer; if ( mutationTransformer === void 0 ) mutationTransformer = function (mut) { return mut; };\n\n\treturn function (store) {\n\t\tvar prevState = JSON.parse( JSON.stringify( store.getState() ) );\n\t\tstore.subscribe( function ( mutation, state ) {\n\t\t\tvar nextState = JSON.parse( JSON.stringify( state ) );\n\t\t\tvar time = new Date();\n\t\t\tvar formattedTime = \" @ \" + (pad( time.getHours(), 2 )) + \":\" + (pad( time.getMinutes(), 2 )) + \":\" + (pad( time.getSeconds(), 2 )) + \".\" + (pad( time.getMilliseconds(), 3 ));\n\t\t\tvar message = \"commit \" + (mutation.type) + formattedTime;\n\n\t\t\tif ( collapsed ) {\n\t\t\t\tconsole.groupCollapsed( message );\n\t\t\t} else {\n\t\t\t\tconsole.group( message );\n\t\t\t}\n\n\t\t\tconsole.log( '%c prev state', 'color: #9E9E9E; font-weight: bold', transformer( prevState ) );\n\t\t\tconsole.log( '%c commit', 'color: #03A9F4; font-weight: bold', mutationTransformer( mutation ) );\n\t\t\tconsole.log( '%c next state', 'color: #4CAF50; font-weight: bold', transformer( nextState ) );\n\n\t\t\tconsole.groupEnd( message );\n\n\t\t\tprevState = nextState;\n\t\t} );\n\t};\n}\n\nfunction repeat( str, times ) {\n\treturn ( new Array( times + 1 ) ).join( str );\n}\n\nfunction pad( num, maxLength ) {\n\treturn repeat( '0', maxLength - num.toString().length ) + num;\n}\n\nreturn createLogger;\n\n})));\n","import App from './app';\n\nexport default function() {\n\treturn new App();\n}\n"],"names":["module","handleComputed","wrapGet","get","context","call","data","wrapSet","set","value","computed","handle","pair","type","parsedComputed","i","Scheduler","this","t","tasks","prototype","add","task","push","run","main","this$1","clearTimeout","setTimeout","forEach","length","Store","ref","modules","actions","store","devtools","plugins","Object","assign","_state","_reducers","_modules","_getters","_actions","_plugins","_subscribers","_viewUpdateSubscribers","scheduler","keys","name","registerModule","window","__REO_DEVTOOLS_HOOK__","_devtools","emit","on","state","replaceState","silent","subscribe","action","subscribeViewUpdate","plugin","use","isValidMutation","mutation","newState","syncView","getState","getGetters","nextTick","fn","dispatch","payload","console","error","arguments","act","bind","key","getters","getterFn","commit","reducer","moduleState","_applySubscribers","_host","h","$update","host","target","reducers","j","ns","tmp","addNSForReducers","registerActions","registerGetters","subscribers","len","subscriber","regux","Component","implement","events","$config","ins","warn","$store","commonGetters","getter","makeComputed","factory","App","pad","num","maxLength","str","times","toString","Array","join","collapsed","transformer","mutationTransformer","mut","prevState","JSON","parse","stringify","nextState","time","Date","formattedTime","getHours","getMinutes","getSeconds","getMilliseconds","message","groupCollapsed","group","log","groupEnd","_store","m","getStore","selector","$inject","document","querySelector"],"mappings":"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"}